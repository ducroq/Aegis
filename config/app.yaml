# Aegis Application Configuration

app:
  name: "Aegis"
  version: "0.2.0"
  description: "Real-Time Macro Defense System"

# Risk scoring configuration
scoring:
  # Dimension weights (must sum to 1.0)
  # UPDATED 2025-01-13: Increased liquidity weight to catch Fed-driven corrections (2022-style)
  weights:
    recession: 0.25    # Reduced from 0.30
    credit: 0.25
    valuation: 0.20
    liquidity: 0.20    # Increased from 0.15 ("Don't fight the Fed")
    positioning: 0.10  # UPDATED: Changed from geopolitical to positioning (CFTC data)

  # Historical lookback for trend analysis (weeks)
  trend_window: 4

  # ENHANCEMENT: Qualitative regime shift overlay
  regime_shifts:
    enabled: true
    news_sources_config: "config/regime_shifts.yaml"
    max_adjustment: 3.0  # Cap qualitative adjustment
    lookback_days: 7  # Scan past week for events

# Alert configuration
alerts:
  # Risk score thresholds (0-10 scale)
  # CALIBRATED from 2000-2024 backtest:
  # - Crisis period max: 5.17 (2009), median: 3.60
  # - Normal period 95th percentile: 3.60
  # - Threshold 4.5: 12% crisis detection, 1.2% false positives
  red_threshold: 5.0      # Severe risk (top crisis months)
  yellow_threshold: 4.0   # Elevated risk (warning signal)

  # Trigger conditions
  rapid_rise_threshold: 1.0  # Point increase over trend_window that triggers alert
  multi_dimension_threshold: 8.0  # If 2+ dimensions exceed this, trigger alert
  multi_dimension_count: 2

  # Alert cooldown (days) - avoid spam
  cooldown_days: 7

  # Email settings
  email_enabled: true
  email_subject_prefix: "⚠️ Aegis Alert:"

# Data fetching
data:
  # Update frequency
  daily_update_enabled: true
  update_hour: 18  # 6 PM local time

  # Data retention (days)
  history_retention: 1825  # 5 years

  # Cache settings
  cache_enabled: true
  cache_ttl_hours: 24

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/aegis.log"
  console: true

# Dashboard (optional)
dashboard:
  enabled: false
  host: "127.0.0.1"
  port: 5000
  debug: false
